<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
	crossorigin="anonymous">
<title>CTS | Detection History</title>
</head>
<body>
	<nav th:replace="home::navi"></nav>
	<div class="container-fluid row justify-content-center">
		<h3 class="display-3">Detection History</h3>
		<div class=" col-12 accordion shadow border mb-3" id="detections-list">
			<div class="accordion-item"  th:each="detection: ${detections}">
				<h2 class="accordion-header" th:id="'hdr'+${detection.temperatureRecord.recordId}">
					<button class="accordion-button collapsed table-responsive" type="button" data-bs-toggle="collapse" th:attr="data-bs-target='#collapse'+${detection.temperatureRecord.recordId},aria-controls='collapse'+${detection.temperatureRecord.recordId}" aria-expanded="false">
							<table class="table">
								<thead><tr>
									<tr>
										<th scope="col">ID Number</th>
										<th scope="col">First Name</th>
										<th scope="col">Middle Name</th>
										<th scope="col">Last Name</th>
										<th scope="col">Contact Number</th>
										<th scope="col">Department</th>
										<th scope="col">Position</th>
										<th scope="col">Temperature Record</th>
										<th scope="col">Area Code</th>
										<th scope="col">Date/Time</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td th:text="${detection.userProfile.idNumber}"scope="row"></td>
										<td th:text="${detection.userProfile.firstName}"></td> 
										<td th:text="${detection.userProfile.middleName}"></td>
										<td th:text="${detection.userProfile.lastName}"></td>
										<td th:text="${detection.userProfile.contactNumber}"></td>
										<td th:text="${detection.userProfile.department}"></td>
										<td th:text="${detection.userProfile.position}"></td>
										<td th:text="${detection.temperatureRecord.temperature}"></td>
										<td th:text="${detection.temperatureRecord.areaCode}"></td>
										<td th:text="${detection.temperatureRecord.recordDate}"></td>
									</tr>
								</tbody>
								<tfoot>
									<tr>
										<td colspan="10">Click to expand</td>
									</tr>
								</tfoot>
							</table>
					</button>
				</h2>
				<div th:id="'collapse'+${detection.temperatureRecord.recordId}" th:attr="aria-labelledby='hdr'+${detection.temperatureRecord.recordId}" class="accordion-collapse collapse" data-bs-parent="#detections-list">			
					<div class="accordion-body bg-secondary">
						<table class="table">
								<thead><tr>
									<tr>
										<th scope="col">ID Number</th>
										<th scope="col">First Name</th>
										<th scope="col">Middle Name</th>
										<th scope="col">Last Name</th>
										<th scope="col">Contact Number</th>
										<th scope="col">Department</th>
										<th scope="col">Position</th>
										<th scope="col">Temperature Record</th>
										<th scope="col">Area Code</th>
										<th scope="col">Date/Time</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td th:text="${detection.userProfile.idNumber}"scope="row"></td>
										<td th:text="${detection.userProfile.firstName}"></td> 
										<td th:text="${detection.userProfile.middleName}"></td>
										<td th:text="${detection.userProfile.lastName}"></td>
										<td th:text="${detection.userProfile.contactNumber}"></td>
										<td th:text="${detection.userProfile.department}"></td>
										<td th:text="${detection.userProfile.position}"></td>
										<td th:text="${detection.temperatureRecord.temperature}"></td>
										<td th:text="${detection.temperatureRecord.areaCode}"></td>
										<td th:text="${detection.temperatureRecord.recordDate}"></td>
									</tr>
								</tbody>
								<tfoot>
									<tr>
										<td colspan="10">Click to expand</td>
									</tr>
								</tfoot>
							</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<footer th:replace="home::foot"></footer>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
		crossorigin="anonymous"></script>
</body>
</html>